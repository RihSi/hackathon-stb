{"remainingRequest":"/Users/steve_lu/Desktop/hackthon/lualualu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/steve_lu/Desktop/hackthon/lualualu/src/views/Room.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/steve_lu/Desktop/hackthon/lualualu/src/views/Room.vue","mtime":1604054763562},{"path":"/Users/steve_lu/Desktop/hackthon/lualualu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/steve_lu/Desktop/hackthon/lualualu/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/steve_lu/Desktop/hackthon/lualualu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/steve_lu/Desktop/hackthon/lualualu/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWF0cyBmcm9tICcuLi9jb21wb25lbnRzL1NlYXRzJzsKaW1wb3J0IEFwcEJhciBmcm9tICcuLi9jb21wb25lbnRzL0FwcEJhcic7CmltcG9ydCBhbmltYXRpb25zIGZyb20gJ2NyZWF0ZS1rZXlmcmFtZS1hbmltYXRpb24nOwppbXBvcnQgU2NhdHRlckpTIGZyb20gJ3NjYXR0ZXJqcy1jb3JlJzsKaW1wb3J0IFNjYXR0ZXJFT1MgZnJvbSAnc2NhdHRlcmpzLXBsdWdpbi1lb3NqczInOwppbXBvcnQgeyBBcGksIEpzb25ScGMgfSBmcm9tICdlb3NqcycKClNjYXR0ZXJKUy5wbHVnaW5zKG5ldyBTY2F0dGVyRU9TKCkpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyb29tJywKCiAgY29tcG9uZW50czogewogICAgU2VhdHMsCiAgICBBcHBCYXIgLAogIH0sCgogIGRhdGE6ICgpID0+ICh7CiAgICBzcGluVGltZTogMTAsCiAgICBudW1PcmRlcjogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXSwKICAgIG51bVJlZDogWzEsIDMsIDUsIDcsIDldLAogICAgbnVtQmxhY2s6IFsyLCA0LCA2LCA4LCAxMF0sCiAgICBvdXRlck51bUxvYzogW10sCiAgICBpbm5lck51bUxvYzogW10sCiAgICBvdXRlckRlZzogWzM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2XSwKICAgIGlubmVyRGVnOiBbMjAsIDI1LCAzMCwgMzMsIDM2LCAzNiwgMzksIDQyLCA0NywgNTJdLAogICAgb3V0ZXJTbGljZXM6IFtdLAogICAgaW5uZXJTbGljZXM6IFtdLAogICAgY3VycmVudDogMCwKICAgIG91dGVyUmVzdWx0OiA3LAogICAgaW5uZXJSZXN1bHQ6IDksCiAgICBzZWF0RGF0YTogWwogICAgICAgIHsgcHVyY2hhc2VkOiBmYWxzZSwgcnRwOiAnMScsIGFQb29sOiAnNS43JywgYlBvb2w6ICc2LjY1JywgY1Bvb2w6ICcxJywgZFBvb2w6ICcyMDAuMCcsIHByaWNlOiAnJDEwMCcgfSwKICAgICAgICB7IHB1cmNoYXNlZDogdHJ1ZSwgcnRwOiAnMicsIGFQb29sOiAnNC43NScsIGJQb29sOiAnNS41NCcsIGNQb29sOiAnMScsIGRQb29sOiAnMTY2LjcnLCBwcmljZTogJyQxMjAnIH0sCiAgICAgICAgeyBwdXJjaGFzZWQ6IHRydWUsIHJ0cDogJzMnLCBhUG9vbDogJzQuMDcnLCBiUG9vbDogJzQuNzUnLCBjUG9vbDogJzEnLCBkUG9vbDogJzE0Mi45JywgcHJpY2U6ICckMTQwJyB9LAogICAgICAgIHsgcHVyY2hhc2VkOiB0cnVlLCBydHA6ICc0JywgYVBvb2w6ICczLjU2JywgYlBvb2w6ICc0LjE2JywgY1Bvb2w6ICcxJywgZFBvb2w6ICcxMjUuMCcsIHByaWNlOiAnJDE2MCcgfSwKICAgICAgICB7IHB1cmNoYXNlZDogdHJ1ZSwgcnRwOiAnNScsIGFQb29sOiAnMy4xNycsIGJQb29sOiAnMy42OScsIGNQb29sOiAnMScsIGRQb29sOiAnMTExLjEnLCBwcmljZTogJyQxODAnIH0sCiAgICAgICAgeyBwdXJjaGFzZWQ6IHRydWUsIHJ0cDogJzYnLCBhUG9vbDogJzIuODUnLCBiUG9vbDogJzMuMzMnLCBjUG9vbDogJzEnLCBkUG9vbDogJzEwMC4wJywgcHJpY2U6ICckMjAwJyB9LAogICAgICAgIHsgcHVyY2hhc2VkOiB0cnVlLCBydHA6ICc3JywgYVBvb2w6ICcyLjU5JywgYlBvb2w6ICczLjAyJywgY1Bvb2w6ICcxJywgZFBvb2w6ICc5MC45JywgcHJpY2U6ICckMjIwJyB9LAogICAgICAgIHsgcHVyY2hhc2VkOiB0cnVlLCBydHA6ICc4JywgYVBvb2w6ICcyLjM4JywgYlBvb2w6ICcyLjc3JywgY1Bvb2w6ICcxJywgZFBvb2w6ICc4My4zJywgcHJpY2U6ICckMjQwJyB9LAogICAgICAgIHsgcHVyY2hhc2VkOiB0cnVlLCBydHA6ICc5JywgYVBvb2w6ICcyLjE5JywgYlBvb2w6ICcyLjU2JywgY1Bvb2w6ICcxJywgZFBvb2w6ICc3Ni45JywgcHJpY2U6ICckMjYwJyB9LAogICAgICAgIHsgcHVyY2hhc2VkOiB0cnVlLCBydHA6ICcxMCcsIGFQb29sOiAnMi4wNCcsIGJQb29sOiAnMi4zOCcsIGNQb29sOiAnMScsIGRQb29sOiAnNzEuNCcsIHByaWNlOiAnJDI4MCcgfSwKICAgICAgXSwKICAgIHNjYXR0ZXI6IG51bGwsCiAgICBzZW5kaW5nOiBudWxsLAogICAgcmVzdWx0OiBudWxsCiAgfSksCgogIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgIHZhciBvdXRlclBvcyA9IDA7CiAgICB2YXIgaW5uZXJQb3MgPSAwOwogICAgdmFyIGlubmVyTnVtUG9zID0gMTAuODU7CiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5udW1PcmRlci5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLm91dGVyTnVtTG9jW3RoaXMubnVtT3JkZXJbaV1dID0gb3V0ZXJQb3M7CiAgICAgIHRoaXMuaW5uZXJOdW1Mb2NbdGhpcy5udW1PcmRlcltpXV0gPSBpbm5lclBvczsKICAgICAgb3V0ZXJQb3MgPSBvdXRlclBvcyArIHRoaXMub3V0ZXJEZWdbaV07CiAgICAgIGlubmVyUG9zID0gaW5uZXJQb3MgKyB0aGlzLmlubmVyRGVnW2ldOwogICAgICB2YXIgb3V0ZXJTbGljZSA9IHsKICAgICAgICAgICdob2xkJzogewogICAgICAgICAgICAgICdpZCc6ICdvdXRlci1zbGljZS0nICsgKGkrMSksCiAgICAgICAgICAgICAgJ2NsYXNzJzogWydob2xkJ10sCiAgICAgICAgICAgICAgJ3N0eWxlJzogJ3RyYW5zZm9ybTogcm90YXRlKCcgKyB0aGlzLm91dGVyTnVtTG9jW3RoaXMubnVtT3JkZXJbaV1dICsgJ2RlZyk7JwogICAgICAgICAgfSwKICAgICAgICAgICdudW0nOiB7CiAgICAgICAgICAgICAgJ2NsYXNzJzogWydudW0nXSwKICAgICAgICAgICAgICAndGV4dCc6IHRoaXMubnVtT3JkZXJbaV0KICAgICAgICAgIH0sCiAgICAgICAgICAncGllJzogewogICAgICAgICAgICAgICdjbGFzcyc6IFsncGllJ10sCiAgICAgICAgICAgICAgJ3N0eWxlJzogJ3RyYW5zZm9ybTogcm90YXRlKDM2ZGVnKTsnCiAgICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBpbm5lclNsaWNlID0gewogICAgICAgICAgJ2hvbGQnOiB7CiAgICAgICAgICAgICAgJ2lkJzogJ2lubmVyLXNsaWNlLScgKyAoaSsxKSwKICAgICAgICAgICAgICAnY2xhc3MnOiBbJ2hvbGQnXSwKICAgICAgICAgICAgICAnc3R5bGUnOiAndHJhbnNmb3JtOiByb3RhdGUoJyArIHRoaXMuaW5uZXJOdW1Mb2NbdGhpcy5udW1PcmRlcltpXV0gKyAnZGVnKTsnCiAgICAgICAgICB9LAogICAgICAgICAgJ251bSc6IHsKICAgICAgICAgICAgICAnY2xhc3MnOiBbJ251bSddLAogICAgICAgICAgICAgICd0ZXh0JzogdGhpcy5udW1PcmRlcltpXQogICAgICAgICAgfSwKICAgICAgICAgICdwaWUnOiB7CiAgICAgICAgICAgICAgJ2NsYXNzJzogWydwaWUnXSwKICAgICAgICAgICAgICAnc3R5bGUnOiAndHJhbnNmb3JtOiByb3RhdGUoJyArIHRoaXMuaW5uZXJEZWdbaV0gKyAnZGVnKTsnCiAgICAgICAgICB9CiAgICAgIH07CiAgICAgIGlmKHRoaXMubnVtT3JkZXJbaV0gPiA5KSB7CiAgICAgICAgICBvdXRlclNsaWNlWydudW0nXVsnc3R5bGUnXSA9ICdsZWZ0OiAxMS43NWVtOyB0b3A6IDIuNWVtOyB0cmFuc2Zvcm06IHNjYWxlKDIpIHJvdGF0ZSgxNWRlZykgIWltcG9ydGFudDsnOwogICAgICAgICAgaW5uZXJTbGljZVsnbnVtJ11bJ3N0eWxlJ10gPSAnbGVmdDogJyArIChpbm5lck51bVBvcyAtIDAuNzcpICsgJ2VtOyB0b3A6IDMuNWVtOyB0cmFuc2Zvcm06IHNjYWxlKDIpIHJvdGF0ZSgnICsgKHRoaXMuaW5uZXJEZWdbaV0gKiAwLjQzKSArICdkZWcpICFpbXBvcnRhbnQ7JzsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICAgIG91dGVyU2xpY2VbJ251bSddWydzdHlsZSddID0gJ2xlZnQ6IDEyLjAyZW07IHRvcDogMi41ZW07IHRyYW5zZm9ybTogc2NhbGUoMikgcm90YXRlKDE1ZGVnKSAhaW1wb3J0YW50Oyc7CiAgICAgICAgICBpbm5lclNsaWNlWydudW0nXVsnc3R5bGUnXSA9ICdsZWZ0OiAnICsgaW5uZXJOdW1Qb3MgKyAnZW07IHRvcDogM2VtOyB0cmFuc2Zvcm06IHNjYWxlKDIpIHJvdGF0ZSgnICsgKHRoaXMuaW5uZXJEZWdbaV0gKiAwLjQzKSArICdkZWcpICFpbXBvcnRhbnQ7JzsKICAgICAgfQogICAgICBpbm5lck51bVBvcyA9IGlubmVyTnVtUG9zICsgMC4yNzsKICAgICAgaWYodGhpcy5udW1SZWQuaW5jbHVkZXModGhpcy5udW1PcmRlcltpXSkpIHsKICAgICAgICAgIG91dGVyU2xpY2VbJ3BpZSddWydjbGFzcyddLnB1c2goJ3JlZC1iZycpOwogICAgICAgICAgaW5uZXJTbGljZVsncGllJ11bJ2NsYXNzJ10ucHVzaCgnZ3JleS1iZycpOwogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5udW1CbGFjay5pbmNsdWRlcyh0aGlzLm51bU9yZGVyW2ldKSkgewogICAgICAgICAgb3V0ZXJTbGljZVsncGllJ11bJ2NsYXNzJ10ucHVzaCgnZ3JleS1iZycpOwogICAgICAgICAgaW5uZXJTbGljZVsncGllJ11bJ2NsYXNzJ10ucHVzaCgncmVkLWJnJyk7CiAgICAgIH0KICAgICAgdGhpcy5vdXRlclNsaWNlcy5wdXNoKG91dGVyU2xpY2UpOwogICAgICB0aGlzLmlubmVyU2xpY2VzLnB1c2goaW5uZXJTbGljZSk7CiAgICB9CiAgICB2YXIgbmV0d29yayA9IFNjYXR0ZXJKUy5OZXR3b3JrLmZyb21Kc29uKHsKICAgICAgYmxvY2tjaGFpbjogJ2VvcycsCiAgICAgIHByb3RvY29sOiAnaHR0cCcsCiAgICAgIHBvcnQ6IDg4ODgsCiAgICAgIGNoYWluSWQ6ICc4YTM0ZWM3ZGYxYjhjZDA2ZmY0YThhYmJhYTdjYzUwMzAwODIzMzUwY2FkYzU5YWIyOTZjYjAwZDEwNGQyYjhmJywKICAgICAgaG9zdDogJ2Foa3VpLmNvbScsCiAgICB9KTsKICAgIHZhciBycGMgPSBuZXcgSnNvblJwYyhuZXR3b3JrLmZ1bGxob3N0KCkpOwogICAgU2NhdHRlckpTLmNvbm5lY3QoJ2Foa3VpLXN0ZXZlJywge25ldHdvcmt9KS50aGVuKGNvbm5lY3RlZCA9PiB7CiAgICAgICAgaWYoIWNvbm5lY3RlZCl7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBjb25uZWN0IHRvIFNjYXR0ZXIuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgU2NhdHRlckpTLmxvZ2luKCkudGhlbihpZCA9PiB7CiAgICAgICAgICBpZighaWQpIGNvbnNvbGUubG9nKCdubyBpZCcpOwogICAgICAgICAgdmFyIGFjY291bnQgPSBTY2F0dGVySlMuYWNjb3VudCgnZW9zJyk7CiAgICAgICAgICBhbGVydChKU09OLnN0cmluZ2lmeShhY2NvdW50KSk7CiAgICAgICAgICB2YXIgZW9zID0gU2NhdHRlckpTLmVvcyhuZXR3b3JrLCBBcGksIHtycGN9KTsKICAgICAgICAgIAogICAgICAgICAgZW9zLnRyYW5zYWN0KHsKICAgICAgICAgICAgYWN0aW9uczogW3sKICAgICAgICAgICAgICBhY2NvdW50OiAnc3RiJywKICAgICAgICAgICAgICBuYW1lOiAnaGknLAogICAgICAgICAgICAgIGF1dGhvcml6YXRpb246W3sKICAgICAgICAgICAgICAgIGFjdG9yOiBhY2NvdW50Lm5hbWUsCiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBhY2NvdW50LmF1dGhvcml0eQogICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgIGRhdGE6ewogICAgICAgICAgICAgICAgZnJvbTogYWNjb3VudC5uYW1lLAogICAgICAgICAgICAgICAgbWVzc2FnZTogInN0ZXZlIHRlc3QiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9XQogICAgICAgICAgfSwgewogICAgICAgICAgICAgIGJsb2Nrc0JlaGluZDogMywKICAgICAgICAgICAgICBleHBpcmVTZWNvbmRzOiAzMCwKICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAvKgogICAgICAgICBlb3MuY29udHJhY3QoJ3N0YicpLnRoZW4oYWN0aW9ucyA9PiB7CiAgICAgICAgICAgYWN0aW9ucy50ZXN0KCdoaScsIHsKICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbewogICAgICAgICAgICAgICAgYWN0b3I6IGFjY291bnQubmFtZSwKICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGFjY291bnQuYXV0aG9yaXR5CiAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgZnJvbTogYWNjb3VudC5uYW1lLAogICAgICAgICAgICAgICAgbWVzc2FnZXM6ICdzdGV2ZSB0ZXN0JwogICAgICAgICAgICAgIH0KICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgIH0pCiAgICAgICAgIH0pCiAgICAgICAgICovCiAgICAgICAgfSk7CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBzbGVlcChtcykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7CiAgICB9LAogICAgb25QdXJjaGFzZShrZXkpIHsKICAgICAgdGhpcy5zZWF0RGF0YVtrZXldWydwdXJjaGFzZWQnXSA9IHRydWU7CiAgICAgIHRoaXMuY2hlY2tHYW1lU3RhdHVzKCk7CiAgICB9LAogICAgYXN5bmMgY2hlY2tHYW1lU3RhdHVzKCkgewogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWF0RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKHRoaXMuc2VhdERhdGFbaV0ucHVyY2hhc2VkID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnNsaWNlUm90YXRlVG8odGhpcy5vdXRlck51bUxvY1t0aGlzLm91dGVyUmVzdWx0XSk7CiAgICAgIGF3YWl0IHRoaXMuc2xlZXAoMzAwMCk7CiAgICAgIHRoaXMuYmdSb3RhdGVUbygpOwogICAgfSwKICAgIGJnUm90YXRlVG8oKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5uZXJSZXN1bHQgLSAxOwogICAgICB2YXIgcmFuZERlZyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuaW5uZXJEZWdbaW5kZXhdKSArIDE7CiAgICAgIHZhciBkZXN0ID0gLTM2MCAqIHRoaXMuc3BpblRpbWUgKyAoMzYwIC0gdGhpcy5pbm5lck51bUxvY1t0aGlzLmlubmVyUmVzdWx0XSkgLSByYW5kRGVnOwogICAgICB2YXIgbXNUaW1lID0gKHRoaXMuc3BpblRpbWUgKiAxMDAwIC0gNDAwMCk7CgogICAgICB2YXIgYW5pbWF0aW9uID0gewogICAgICAgIDA6IHsKICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgwZGVnKScKICAgICAgICB9LAogICAgICAgIDEwMDogewogICAgICAgICAgdHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZXN0ICsgJ2RlZyknCiAgICAgICAgfQogICAgICB9OwoKICAgICAgYW5pbWF0aW9ucy5yZWdpc3RlckFuaW1hdGlvbih7CiAgICAgICAgbmFtZTogJ3BpZVJvdGF0aW9uJywKICAgICAgICBhbmltYXRpb24sCiAgICAgICAgcHJlc2V0czogewogICAgICAgICAgZHVyYXRpb246IG1zVGltZSwKICAgICAgICAgIGVhc2luZzogJ2Vhc2UtaW4tb3V0JwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGFuaW1hdGlvbnMucnVuQW5pbWF0aW9uKHRoaXMuJHJlZnMuaW5uZXJDaXJjbGUsICdwaWVSb3RhdGlvbicsICgpID0+IHsKICAgICAgICB0aGlzLmlubmVyU2xpY2VzW2luZGV4XVsncGllJ11bJ2NsYXNzJ10ucHVzaCgnaGlnaGxpZ2h0Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHNsaWNlUm90YXRlVG8oZGVnKSB7CiAgICAgIHZhciBkZXN0ID0gMzYwICogdGhpcy5zcGluVGltZSArIGRlZzsKICAgICAgdmFyIHN0YXJ0ID0gMDsKICAgICAgdmFyIG1zVGltZSA9IHRoaXMuc3BpblRpbWUgKiAxMDAwOwogICAgICB2YXIgdGltZVJhbmdlID0gbXNUaW1lIC8gMjU7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aW1lUmFuZ2U7IGkrKykgewogICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoMjUpOwogICAgICAgIGlmKHN0YXJ0ICE9PSBkZXN0KSB7CiAgICAgICAgICBzdGFydCA9IHN0YXJ0ICsgMzY7CiAgICAgICAgICB0aGlzLm91dGVyU2xpY2VzW3RoaXMuY3VycmVudF1bJ3BpZSddWydjbGFzcyddID0gdGhpcy5vdXRlclNsaWNlc1t0aGlzLmN1cnJlbnRdWydwaWUnXVsnY2xhc3MnXS5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSAnaGlnaGxpZ2h0Jyk7CiAgICAgICAgICB0aGlzLmN1cnJlbnQgPSAodGhpcy5jdXJyZW50ICsgMSkgJSB0aGlzLm91dGVyU2xpY2VzLmxlbmd0aDsKICAgICAgICAgIHRoaXMub3V0ZXJTbGljZXNbdGhpcy5jdXJyZW50XVsncGllJ11bJ2NsYXNzJ10ucHVzaCgnaGlnaGxpZ2h0Jyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["Room.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Room.vue","sourceRoot":"src/views","sourcesContent":["<style>\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/138980/184983947.jpg);\n    margin: 0;\n    overflow: hidden;\n  }\n\n  .pie-background {\n    background-color: rgba(240, 240, 240, 1);\n    position: absolute;\n    width: 20em;\n    height: 20em;\n    border-radius: 99em;\n    box-shadow: -1px 1px 3px #000;\n  }\n\n  .pie-container {\n    top: -1%;\n    position: absolute;\n    width: 20em;\n    height: 20em;\n    transform: rotate(0deg);\n    font-size: 1.25em;\n  }\n\n  .pie {\n    border: solid 1em rgba(41, 25, 6, 1);\n    box-shadow: inset 0 0 1em #000;\n    position: absolute;\n    width: 20em;\n    height: 20em;\n    border-radius: 99em;\n    clip: rect(0em, 10em, 10em, 0px);\n    z-index: 20;\n  }\n\n  .hold {\n    position: absolute;\n    clip: rect(0, 20em, 20em, 10em);\n    width: 20em;\n    height: 20em;\n    border-radius: 99em;\n  }\n\n  .num {\n      position: absolute;\n      color: rgba(255, 255, 255, 1);\n      z-index: 80;\n      text-align: center;\n      font-family: \"Times Newx Roman\", Times, serif;\n      font-weight: 700;\n  }\n\n  .outer {\n    transform: translate(-35%, -40%) scale(2.15);\n  }\n\n  .inner {\n    transform: translate(-35%, -40%) scale(1.15);\n  }\n\n  .spinner {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    background-color: transparent;\n    height: 25em;\n    width: 25em;\n    border-radius: 99em;\n    font-size: 1em;\n  }\n\n  .pin {\n    left: 45%;\n    top: -2.5%;\n    z-index: 999;\n  }\n\n  .red-bg {\n    background: linear-gradient(135deg,  #a90329 0%,#8f0222 44%,#6d0019 100%);\n  }\n\n  .grey-bg {\n    background: radial-gradient(ellipse at center,  #7d7e7d 0%,#000000 70%,#0e0e0e 100%);\n  }\n\n  .highlight {\n    filter: brightness(2);\n  }\n</style>\n\n<template>\n  <v-app>\n    <AppBar :seatData=\"seatData\" />\n    <Seats :seatData=\"seatData\" @seatNumber=\"onPurchase\" :scatter=\"scatter\" />\n    <div class=\"spinner outer\" style=\"top: 50%; !important\">\n      <div id=\"outerCircle\" class=\"pie-container\">\n        <div class=\"pie-background\"></div>\n        <div v-for=\"(item, key) in outerSlices\" :class=\"item.hold.class\" :id=\"'outer-' + item.hold.id\" :style=\"item.hold.style\" :key=\"key\">\n            <div :class=\"item.num.class\" :style=\"item.num.style\">\n                {{ item.num.text }}\n            </div>\n            <div :class=\"item.pie.class\" :style=\"item.pie.style\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"spinner inner\">\n          <v-icon class=\"pin white--text\" x-large>mdi-pin</v-icon>\n      <transition>\n        <div ref=\"innerCircle\" class=\"pie-container\">\n            <div class=\"pie-background\"></div>\n            <div v-for=\"(item, key) in innerSlices\" :class=\"item.hold.class\" :id=\"'inner-' + item.hold.id\" :style=\"item.hold.style\" :key=\"key\">\n                <div :class=\"item.num.class\" :style=\"item.num.style\">\n                    {{ item.num.text }}\n                </div>\n                <div :class=\"item.pie.class\" :style=\"item.pie.style\"></div>\n            </div>\n        </div>\n      </transition>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport Seats from '../components/Seats';\nimport AppBar from '../components/AppBar';\nimport animations from 'create-keyframe-animation';\nimport ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs2';\nimport { Api, JsonRpc } from 'eosjs'\n\nScatterJS.plugins(new ScatterEOS());\n\nexport default {\n  name: 'room',\n\n  components: {\n    Seats,\n    AppBar ,\n  },\n\n  data: () => ({\n    spinTime: 10,\n    numOrder: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    numRed: [1, 3, 5, 7, 9],\n    numBlack: [2, 4, 6, 8, 10],\n    outerNumLoc: [],\n    innerNumLoc: [],\n    outerDeg: [36, 36, 36, 36, 36, 36, 36, 36, 36, 36],\n    innerDeg: [20, 25, 30, 33, 36, 36, 39, 42, 47, 52],\n    outerSlices: [],\n    innerSlices: [],\n    current: 0,\n    outerResult: 7,\n    innerResult: 9,\n    seatData: [\n        { purchased: false, rtp: '1', aPool: '5.7', bPool: '6.65', cPool: '1', dPool: '200.0', price: '$100' },\n        { purchased: true, rtp: '2', aPool: '4.75', bPool: '5.54', cPool: '1', dPool: '166.7', price: '$120' },\n        { purchased: true, rtp: '3', aPool: '4.07', bPool: '4.75', cPool: '1', dPool: '142.9', price: '$140' },\n        { purchased: true, rtp: '4', aPool: '3.56', bPool: '4.16', cPool: '1', dPool: '125.0', price: '$160' },\n        { purchased: true, rtp: '5', aPool: '3.17', bPool: '3.69', cPool: '1', dPool: '111.1', price: '$180' },\n        { purchased: true, rtp: '6', aPool: '2.85', bPool: '3.33', cPool: '1', dPool: '100.0', price: '$200' },\n        { purchased: true, rtp: '7', aPool: '2.59', bPool: '3.02', cPool: '1', dPool: '90.9', price: '$220' },\n        { purchased: true, rtp: '8', aPool: '2.38', bPool: '2.77', cPool: '1', dPool: '83.3', price: '$240' },\n        { purchased: true, rtp: '9', aPool: '2.19', bPool: '2.56', cPool: '1', dPool: '76.9', price: '$260' },\n        { purchased: true, rtp: '10', aPool: '2.04', bPool: '2.38', cPool: '1', dPool: '71.4', price: '$280' },\n      ],\n    scatter: null,\n    sending: null,\n    result: null\n  }),\n\n  mounted: async function () {\n    var outerPos = 0;\n    var innerPos = 0;\n    var innerNumPos = 10.85;\n    for(var i = 0; i < this.numOrder.length; i++) {\n      this.outerNumLoc[this.numOrder[i]] = outerPos;\n      this.innerNumLoc[this.numOrder[i]] = innerPos;\n      outerPos = outerPos + this.outerDeg[i];\n      innerPos = innerPos + this.innerDeg[i];\n      var outerSlice = {\n          'hold': {\n              'id': 'outer-slice-' + (i+1),\n              'class': ['hold'],\n              'style': 'transform: rotate(' + this.outerNumLoc[this.numOrder[i]] + 'deg);'\n          },\n          'num': {\n              'class': ['num'],\n              'text': this.numOrder[i]\n          },\n          'pie': {\n              'class': ['pie'],\n              'style': 'transform: rotate(36deg);'\n          }\n      };\n      var innerSlice = {\n          'hold': {\n              'id': 'inner-slice-' + (i+1),\n              'class': ['hold'],\n              'style': 'transform: rotate(' + this.innerNumLoc[this.numOrder[i]] + 'deg);'\n          },\n          'num': {\n              'class': ['num'],\n              'text': this.numOrder[i]\n          },\n          'pie': {\n              'class': ['pie'],\n              'style': 'transform: rotate(' + this.innerDeg[i] + 'deg);'\n          }\n      };\n      if(this.numOrder[i] > 9) {\n          outerSlice['num']['style'] = 'left: 11.75em; top: 2.5em; transform: scale(2) rotate(15deg) !important;';\n          innerSlice['num']['style'] = 'left: ' + (innerNumPos - 0.77) + 'em; top: 3.5em; transform: scale(2) rotate(' + (this.innerDeg[i] * 0.43) + 'deg) !important;';\n      }\n      else {\n          outerSlice['num']['style'] = 'left: 12.02em; top: 2.5em; transform: scale(2) rotate(15deg) !important;';\n          innerSlice['num']['style'] = 'left: ' + innerNumPos + 'em; top: 3em; transform: scale(2) rotate(' + (this.innerDeg[i] * 0.43) + 'deg) !important;';\n      }\n      innerNumPos = innerNumPos + 0.27;\n      if(this.numRed.includes(this.numOrder[i])) {\n          outerSlice['pie']['class'].push('red-bg');\n          innerSlice['pie']['class'].push('grey-bg');\n      }\n      else if(this.numBlack.includes(this.numOrder[i])) {\n          outerSlice['pie']['class'].push('grey-bg');\n          innerSlice['pie']['class'].push('red-bg');\n      }\n      this.outerSlices.push(outerSlice);\n      this.innerSlices.push(innerSlice);\n    }\n    var network = ScatterJS.Network.fromJson({\n      blockchain: 'eos',\n      protocol: 'http',\n      port: 8888,\n      chainId: '8a34ec7df1b8cd06ff4a8abbaa7cc50300823350cadc59ab296cb00d104d2b8f',\n      host: 'ahkui.com',\n    });\n    var rpc = new JsonRpc(network.fullhost());\n    ScatterJS.connect('ahkui-steve', {network}).then(connected => {\n        if(!connected){\n            console.error('Could not connect to Scatter.');\n            return;\n        }\n        ScatterJS.login().then(id => {\n          if(!id) console.log('no id');\n          var account = ScatterJS.account('eos');\n          alert(JSON.stringify(account));\n          var eos = ScatterJS.eos(network, Api, {rpc});\n          \n          eos.transact({\n            actions: [{\n              account: 'stb',\n              name: 'hi',\n              authorization:[{\n                actor: account.name,\n                permission: account.authority\n              }],\n              data:{\n                from: account.name,\n                message: \"steve test\"\n              }\n            }]\n          }, {\n              blocksBehind: 3,\n              expireSeconds: 30,\n          }).then(res => {\n              console.log(res);\n          });\n          \n        /*\n         eos.contract('stb').then(actions => {\n           actions.test('hi', {\n              authorization: [{\n                actor: account.name,\n                permission: account.authority\n              }],\n              data: {\n                from: account.name,\n                messages: 'steve test'\n              }\n           }).then(result => {\n             console.log(result);\n           })\n         })\n         */\n        });\n    });\n  },\n\n  methods: {\n    sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    },\n    onPurchase(key) {\n      this.seatData[key]['purchased'] = true;\n      this.checkGameStatus();\n    },\n    async checkGameStatus() {\n      for(var i = 0; i < this.seatData.length; i++) {\n        if(this.seatData[i].purchased === false) {\n          return;\n        }\n      }\n      this.sliceRotateTo(this.outerNumLoc[this.outerResult]);\n      await this.sleep(3000);\n      this.bgRotateTo();\n    },\n    bgRotateTo() {\n      var index = this.innerResult - 1;\n      var randDeg = Math.floor(Math.random() * this.innerDeg[index]) + 1;\n      var dest = -360 * this.spinTime + (360 - this.innerNumLoc[this.innerResult]) - randDeg;\n      var msTime = (this.spinTime * 1000 - 4000);\n\n      var animation = {\n        0: {\n          transform: 'rotate(0deg)'\n        },\n        100: {\n          transform: 'rotate(' + dest + 'deg)'\n        }\n      };\n\n      animations.registerAnimation({\n        name: 'pieRotation',\n        animation,\n        presets: {\n          duration: msTime,\n          easing: 'ease-in-out'\n        }\n      });\n      animations.runAnimation(this.$refs.innerCircle, 'pieRotation', () => {\n        this.innerSlices[index]['pie']['class'].push('highlight');\n      });\n    },\n    async sliceRotateTo(deg) {\n      var dest = 360 * this.spinTime + deg;\n      var start = 0;\n      var msTime = this.spinTime * 1000;\n      var timeRange = msTime / 25;\n      for(var i = 0; i < timeRange; i++) {\n        await this.sleep(25);\n        if(start !== dest) {\n          start = start + 36;\n          this.outerSlices[this.current]['pie']['class'] = this.outerSlices[this.current]['pie']['class'].filter(item => item !== 'highlight');\n          this.current = (this.current + 1) % this.outerSlices.length;\n          this.outerSlices[this.current]['pie']['class'].push('highlight');\n        }\n        else {\n          break;\n        }\n      }\n    }\n  }\n}\n\n</script>"]}]}